window.Ut=function(){return Ut={getParam:function(t){var e=window.location.search,n={},a=e.replace("?","").split("&");for(var i in a){var r=a[i];n[r.split("=")[0]]=r.split("=")[1]}return null!=t?n[t]:n},gettime:function(t){var e=null;if(null!=t&&0!=t.length){var n=t.split(" ");if(null!=n&&n.length>1){var a=(n[0]||"-").split("-"),i=a[0],r=Number(a[1])-1,l=a[2],o=n[1].split(":"),d=o[0],s=o[1];e=new Date(i,r,l,d,s).getTime()}return e}},Null:function(t){return null==t||""==t||0==t.length},isURL:function(t){return null==t.match(/(http[s]?|ftp):\/\/[^\/\.]+?\..+(\w|\/)$/i)?!1:!0},getTimeTostr:function(t){var e="",t=Number(t)||-1;if(t>0){var n=new Date(t),a=n.getMonth()+1;a=10>a?"0"+a:a;var i=n.getDate();i=10>i?"0"+i:i;var r=n.getHours();r=10>r?"0"+r:r;var l=n.getMinutes();l=10>l?"0"+l:l,e=n.getFullYear()+"-"+a+"-"+i+" "+r+":"+l}return e},search:function(t,e){var n=Ut.getParam();n[t]=e;var a=[];for(var i in n)null!=i&&i.length>0&&a.push(i+"="+n[i]);var r=a.join("&");return r}}}();var CssTool={makstyle:function(t){var e=this.getstyle(t);$('<style type="text/css">'+e+"</style>").appendTo("head")},getstyle:function(t){for(var e="",n=this._getstyleArray(t),a=0;a<n.length;a++)for(var i=n[a],r=i.length-1;r>=0;r--){var l=i[r];for(var o in l){var d=o.replace(/[#]/gi," #").replace(/[\.]/gi," .").replace(/&\s/gi,"&").replace(/&/gi,""),s=l[o];e+=d+"{"+s+"}"}}return e=e.replace(/^\s/gi,"")},_getstyleArray:function(t){var e=[];for(var n in t){var a=this._getyles(n,t[n]);e.push(a)}return e},_getyles:function(t,e){function n(t,e){var i={};for(var r in e)/[#\.&]/gi.test(r)&&"object"==typeof e[r]?n(t+r,e[r]):i[t]=(i[t]||"")+r+":"+e[r]+";";a.push(i)}var a=[];return n(t,e),a}};jQuery.fn.zen=function(t,e){var n=$(this);return void 0==typeof t?n:(t.replace(/^([^>+]+)(([>+])(.*))?/,function(t,a,i,r,l){a.replace(/^([^*]+)(\*([0-9]+))?/,function(t,a,i,o){void 0==o&&(o=1),1>o&&(o=1);for(var d=a.match(/[^.#]+/)[0],s=1;o>=s;s++){var c=$("<"+d+">");a.replace(/([.#])([^.#]+)/g,function(t,e,n){"#"==e?c.attr("id",n):"."==e&&c.addClass(n)}),n.append(c),void 0==r?void 0!=e&&jQuery.each([c],e):"+"==r?n.zen(l,e):">"==r&&c.zen(l,e)}})}),$(this))},window.zen=function(t,e){var n=$("<span>").zen(t,e).html();return $(n)},window.fytip=function(t){var e,n=!1,a=!1,i={init:function(){this.layout(),this.initEvent()},layout:function(){var e={".fy-slide-tip":{position:"fixed",padding:"5px","z-index":"1000","font-size":"12px","line-height":"1.4",opacity:"0.95",top:"0px",".arrow":{position:"absolute",width:"0",height:"0","border-color":"transparent","border-style":"solid","border-width":"5px 5px 5px 5px","&.top-arrow":{left:"50%",bottom:"-5px","margin-left":"-5px","border-top-color":"#425160"},"&.right-arrow":{top:"50%",left:"-5px","margin-top":"-5px","border-right-color":"#425160"}},".tip-inner":{"max-width":"400px",padding:"12px 8px",color:"#fff","text-align":"center","text-decoration":"none","border-radius":"0",background:"#163342"}}};t(".fy-tip").length&&CssTool.makstyle(e)},initEvent:function(){t(".fy-tip").on({mouseenter:function(){n=!0;var e=t(r.getSinleton()),a=t(this).offset().top,i=t(this).offset().left,l=t(this).innerWidth(),o=t(this).innerHeight(),d=t(this).attr("data-tip")||"top",s=t(this).attr("data-desc")||"content";"content"==s&&(s=t(this).html()),r.reset(),e.find(".arrow").addClass(d+"-arrow"),e.find(".tip-inner").html(s);var c=e.width(),p=e.height();"top"==d&&e.css({left:i-(c-l+5)/2,top:a-p-10}),"right"==d&&(e.css({left:i+l+2,top:a-(p-o)/2-5}),e.addClass("")),e.show()},mouseleave:function(){n=!1,setTimeout(function(){if(!n&&!a){var e=t(r.getSinleton());e.hide()}},50)}}),t(document).on("mouseenter",".fy-slide-tip",function(){a=!0}),t(document).on("mouseleave",".fy-slide-tip",function(){a=!1;var e=t(r.getSinleton());e.hide()})},reset:function(){var e=t(r.getSinleton()).find(".arrow");e.removeClass("top-arrow"),e.removeClass("right-arrow"),e.removeClass("left-arrow"),e.removeClass("bottom-arrow")},getSinleton:function(){function n(){return null==e&&(e=new a),e}function a(){var e=document.createElement("div");return t(e).addClass("fy-slide-tip"),t(e).append(t('<div class="arrow"></div>')),t(e).append(t('<div class="tip-inner"></div>')),t("body").append(e),e}return n()}},r=i;return i}($),$(document).ready(function(){fytip.init()});var alertStyle={"#zalert":{display:"none","font-family":"'微软雅黑'",top:"0",left:"0",width:"100%",height:"100%",position:"fixed","z-index":"99999"},"#zalert .bk":{opacity:"0.5",width:"100%",height:"100%",background:"#000",filter:"alpha(opacity=50)"},"#zalert .z-close":{position:"absolute",right:"8px","font-size":"24px",top:"0px",color:"#B3B2B2",cursor:"pointer"},"#zalert .z-close:hover":{color:"#5F5A5A"},"#zalert .panel":{background:"#FFF","border-radius":"3px",position:"fixed","z-index":"99999999",width:"400px","min-height":"100px",padding:"15px 20px",left:"50%",top:"25%","margin-left":"-200px"},"#zalert .info":{margin:"30px auto","text-align":"center","font-size":"14px",height:"24px","line-height":"24px",width:"100%"},"#zalert .zbtn":{width:"60px",border:"1px solid #df1155",color:"#fff","background-color":"#f71d65","font-size":"14px","text-align":"center",cursor:"pointer",margin:"0px auto 20px",top:"25%",padding:"2px 5px"},"#zalert .zbtn:hover":{"background-color":"#FD4884"}};window.zalert=function(){var t={init:function(){this.cstyle(),this.initEvent(),this.cpage()},cstyle:function(){$('<style type="text/css">'+t.getstyle(alertStyle)+"</style>").appendTo("head")},cpage:function(){var t=zen("div#zalert>div.bk+div.panel"),e=$(t).find(".panel");e.zen("div.title-wrap>div.z-title+div.z-close"),e.zen("div.content>div.info+div.zbtn"),$(e).find(".z-close").html("×"),$(e).find(".z-title").html("来自章鱼tv的提示"),$(e).find(".zbtn").html("确定"),$("body").append(t)},initEvent:function(){$(document).on("click","#zalert .zbtn,#zalert .z-close",function(){$("#zalert").hide()})},alert:function(t){$("#zalert").fadeIn(),$("#zalert .info").html(t)},getstyle:function(t){function e(t){var e="";for(var n in t)if(/[#\.]/gi.test(n)&&"object"==typeof t[n]){var a=t[n],i="";for(var r in a)i+=r+":"+a[r]+";";e+=n+"{"+i+"}"}return e}var n=e(t);return n}};return $(document).ready(function(){t.init()}),function(e,n){t.alert(e,n)}}(),window.ImgUp=function(){var t={init:function(){this.wrapAllImgUp(),this.layout(),this.viewImg()},initEvent:function(){},layout:function(){e("http://static.ws.kukuplay.com/common/lib/ajaximg/ajaxupload.js",function(){t.bindAllImgUp()})},wrapAllImgUp:function(){$(".zy-imgup").each(function(){t.wrapImgUp($(this))})},wrapImgUp:function(t){$(t).wrap("<div class='zyform-up-wrap'></div>");var e=$('<i class="iconfont icon-eye f12 zyadmin-eyeicon"></i>'),n=$('<i class="iconfont icon-upload f12 zyadmin-upicon"></i>');$(t).parent().append(e).append(n)},bindAllImgUp:function(){$(".zyform-up-wrap .zyadmin-upicon").each(function(){t.bindImgUp($(this))})},bindImgUp:function(t){window.UpConf=window.UpConf||{};var e=UpConf.upurl||"/picture/multiupload",n=UpConf.returl||"origin",a=UpConf.success;null!=e&&e.length>0&&new AjaxUpload(t,{action:e,name:"upfile",data:{maxWidth:"120",maxHeight:"120"},dataType:"json",autoSubmit:!0,onSubmit:function(){},onComplete:function(e,i){if(console.log("上传回调:"+i),"string"==typeof i)try{i=JSON.parse(i)}catch(r){console.log("返回数据转换为对象失败。。。",i)}if(null!=i){if(i instanceof Array)for(var l in i){var o=i[l],d=o[n],s=d.url;$(t).parent().find("input").val(s)}else{var c=i[n];c instanceof Array?null!=c&&c.length>0&&$(t).parent().find("input").val(c[0]):"string"==typeof c&&$(t).parent().find("input").val(c)}"function"==typeof a&&a(i,$(t).parent().find("input"))}else alert("返回数据为空")}})},viewImg:function(){$(document).on("mouseenter",".zyadmin-eyeicon",function(){var t=$(this).parent().find("input").val();return null==t.match(/(http[s]?|ftp):\/\/[^\/\.]+?\..+(\w|\/)$/i)?!1:void($(this).parent().find(".viewimg").length?$(this).parent().find(".viewimg").attr("src",t).show():($(this).parent().append("<img class='viewimg' src='"+t+"'/>"),$(this).parent().find("img").show()))}),$(document).on("mouseleave",".zyform-up-wrap",function(){$(this).parent().find(".viewimg").hide()})}},e=function(t,e){var n=null;n=document.createElement("script"),n.type="text/javascript","function"==typeof e&&(n.onload=n.onreadystatechange=function(){var t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onreadystatechange=null,e())}),n.src=t,document.getElementsByTagName("head")[0].appendChild(n)};return t}(),$(function(){ImgUp.init()}),window.zform=function(){var tmpfun,zform={init:function(){zform.initEvent()},initEvent:function(){$(document).on("click",".add-dyn",function(){var t=$(this).parent().find(".dyn-tmp").clone().removeClass("dyn-tmp");$(this).parent().find(".dyn-list").append(t);var e=$(t).find(".zy-imgup");e.length&&(ImgUp.wrapImgUp(e),ImgUp.bindImgUp($(e).parent().find(".zyadmin-upicon"))),zform.resize()}),$(document).on("click",".add-zlist",function(){var t=$(this).parent().find(".list-tmp").clone().removeClass("list-tmp");$(this).parent().find(".z-list").append(t),zform.resize()}),$(document).on("click",".up-dyn,.up-zlist",function(){var t=$(this).parent(),e=$(t).prev();e.before(t)}),$(document).on("click",".del-zlist,.del-dyn",function(){var t=$(this).parent();t.remove()}),$(document).on("click",".z-form .close,.z-form .cancel",function(){$(".zform-cover").hide(),tmpfun=null}),$(document).on("click",".z-form .save",function(){zform.save()})},bindEvent:function(){},save:function(){var t=zform.getData();console.log("save data:",JSON.stringify(t)),null!=tmpfun&&"function"==typeof tmpfun?tmpfun(t):alert("callback is null")},getData:function(){var data={};return $(".z-form .form .item").each(function(){var type=$(this).data("ftype"),key=$(this).data("fkey"),dtype=$(this).attr("dtype");if(!Ut.Null(key))if("text"==type){var value=($(this).find("input").val()||"").trim();null!=value&&value.length>0&&(data[key]=value)}else if("time"==type){var value=($(this).find("input").val()||"").trim();if(null!=value&&value.length>0)try{var times=Ut.gettime(value);data[key]=times}catch(e){alert(e)}}else if("select"==type){var value=$(this).find("select").val();null!=value&&value.length>0&&(data[key]=value)}else if("radio"==type){var name=$(this).find("input[type='radio']").attr("name"),value=$(this).find("input[name='"+name+"']:checked").val();null!=value&&value.length>0&&(data[key]=value)}else if("textarea"==type){var value=$(this).find("textarea").val();null!=value&&value.length>0&&(data[key]=value)}else if("checkbox"==type){var checkret=[];$(this).find("input[type='checkbox']:checked").each(function(){var t=$(this).val();checkret.push(t)}),checkret.length>0&&(data[key]=checkret)}else if("imgup"==type){var value=$(this).find("input").val(),cvalue=$(this).find("input").data("cvalue");if(null!=cvalue){var obj={};if("string"==typeof cvalue)try{obj=eval(data)}catch(e){}else obj=cvalue;data[key]=obj}else null!=value&&value.length>0&&(data[key]=value)}else if("zlist"==type){var array=zform.getZlist($(this),dtype);array.length>0&&(data[key]=array)}else if("dynlist"==type){var array=zform.getDynlist($(this));array.length>0&&(data[key]=array)}}),data},getZlist:function(t,e){var n=[];return $(t).find(".z-list .zlist-item").each(function(){var t=$(this).find("input").val();Ut.Null(e)||"number"!=e||(t=Number(t)||null),Ut.Null(t)||n.push(t)}),n},getDynlist:function(el){var retarray=[];return $(el).find(".dyn-list .dyn-item").each(function(){var map={},haskey=!1;$(this).find("input").each(function(){var key=$(this).attr("key"),value=$(this).val(),cvalue=$(this).data("cvalue");if(null!=cvalue){var obj={};if("string"==typeof cvalue)try{obj=eval(cvalue)}catch(e){}else obj=cvalue;haskey=!0,obj instanceof Array?obj.length>0&&(map=obj[0]):map=obj}else null!=key&&null!=value&&value.length>0&&(map[key]=value,haskey=!0)}),haskey&&retarray.push(map)}),retarray},cform:function(t,e){"function"==typeof e&&(tmpfun=e),cform.cform(t)},eform:function(t,e,n){"function"==typeof n&&(tmpfun=n),cform.eform(t,e)},resize:function(){$(".zform-cover .z-form").removeAttr("style"),$(window).resize();var t=$(".zform-cover").find(".form").height(),e=$(".zform-cover").find(".z-form").height();e-t>70&&$(".zform-cover .z-form").css({height:t+70})}};return zform}(),window.cform=function(){function clone(t){function e(){}e.prototype=t;var n=new e;for(var a in n)"object"==typeof n[a]&&(n[a]=clone(n[a]));return n}var instance,cform={cform:function(t){var e=_this.getSinleton(),n=$(e).find(".form");$(n).empty();for(var a in t){var i=t[a];if(null!=i){var r=i.type;if("text"==r){var i=_this._getText(t[a],a);$(n).append(i)}else if("radio"==r){var i=_this._getRadio(t[a],a);$(n).append(i)}else if("checkbox"==r){var i=_this._getCheckbox(t[a],a);$(n).append(i)}else if("select"==r){var i=_this._getSlect(t[a],a);$(n).append(i)}else if("textarea"==r){var i=_this._getTextArea(t[a],a);$(n).append(i)}else if("zlist"==r){var i=_this._getList(t[a],a);$(n).append(i)}else if("dynlist"==r){var i=_this._getDynlist(t[a],a);$(n).append(i)}else if("imgup"==r){var i=_this._getImgUp(t[a],a);$(n).append(i)}else if("time"==r){var i=_this._getTime(t[a],a);$(n).append(i)}}}var l=zen("div.item.save-wrap>div.btn.btn-default.cancel+div.btn.btn-success.save");$(l).find(".cancel").html("取消"),$(l).find(".save").html("保存"),$(n).append(l),$(e).show(),setTimeout(function(){zform.resize()},1)},eform:function(el,data,fun){var tmpdata={};$(el).find("td").each(function(){var key=$(this).data("key"),value=$(this).attr("data-value"),forbid=$(this).data("forbid");if(null!=key&&key.length>0){!data[key]||null!=value&&0!=value.length?!data[key]||"text"!=data[key].type&&"textarea"!=data[key].type||null==value||(value=$(this).attr("data-value")):("text"==data[key].type||"textarea"==data[key].type)&&(value=($(this).html()||"").trim());for(var tmpkey in data)if(tmpkey==key){if(tmpdata[key]=clone(data[key]),/^\[/gi.test(value))try{tmpdata[key].value=eval(value)}catch(e){console.log("td数据转换出错",el)}else if(/###/gi.test(value)){var array=value.split("###");tmpdata[key].value=array}else tmpdata[key].value=value;null!=forbid&&forbid&&(tmpdata[key].forbid=!0);break}}}),cform.cform(tmpdata)},_getText:function(t,e){if(null!=t&&null!=e){var n=t.name,a=t.value,i=t.forbid,r=zen("div.item>label");return $(r).attr("data-ftype","text"),$(r).attr("data-fkey",e),$(r).find("label").html(n+"："),$(r).append($("<input type='text' value='"+(a||"")+"'/>")),i&&$(r).find("input").attr("disabled","true"),$(r)}},_getImgUp:function(t,e){if(null!=t&&null!=e){var n=t.name,a=t.value,i=t.forbid,r=zen("div.item>label");$(r).attr("data-ftype","text"),$(r).attr("data-fkey",e),$(r).find("label").html(n+"：");var l=$("<input type='text' value='"+(a||"")+"' class='zy-imgup'/>");return $(r).append(l),i&&$(r).find("input").attr("disabled","true"),ImgUp.wrapImgUp(l),ImgUp.bindImgUp($(l).parent().find(".zyadmin-upicon")),$(r)}},_getRadio:function(t,e){if(null!=t&&null!=e){var n=t.check,a=t.value,i=zen("div.item.check-item>label");$(i).attr("data-ftype","radio"),$(i).attr("data-fkey",e);for(var r in n){var l=n[r],o=l.name,d=l.value,s=$("<label>"+o+"：</label>");if(a==d)var c=$("<input type='radio' name='"+e+"' value='"+d+"' checked/>");else var c=$("<input type='radio' name='"+e+"' value='"+d+"'/>");$(i).append(s),$(i).append(c)}return $(i)}},_getCheckbox:function(t,e){if(null!=t&&null!=e){var n=t.check,a=t.value;"string"==typeof a&&(a=JSON.parse(a));var i=zen("div.item.check-item>label");$(i).attr("data-ftype","checkbox"),$(i).attr("data-fkey",e);for(var r in n){var l=n[r],o=l.name,d=l.value,s=$("<label>"+o+"：</label>"),c=$("<input type='checkbox' value='"+d+"'/>");for(var p in a)a[p]==d&&c.attr("checked","true");$(i).append(s),$(i).append(c)}return $(i)}},_getSlect:function(t,e){if(null!=t&&null!=e){var n=t.select,a=t.value,i=t.name,r=zen("div.item.select-item>label");$(r).attr("data-ftype","select"),$(r).attr("data-fkey",e);var l=$("<select></select>");$(r).find("label").html(i+"：");for(var o in n){var d=n[o],i=d.name,s=d.value,c=$("<option value='"+s+"'>"+i+"</option>");a===s&&c.attr("selected","true"),$(l).append(c)}return $(r).append(l),$(r)}},_getTextArea:function(t,e){if(null!=t&&null!=e){var n=t.name,a=t.value,i=zen("div.item>label");return $(i).attr("data-ftype","textarea"),$(i).attr("data-fkey",e),$(i).find("label").html(n+"："),$(i).append($("<textarea>"+(a||"")+"</textarea>")),$(i)}},_getList:function(t,e){if(null!=t&&null!=e){var n=t.name,a=(t.list,t.value),i=t.dtype,r=zen("div.item>label+div.z-list");$(r).attr("data-ftype","zlist"),$(r).attr("data-fkey",e),$(r).find("label").html(n+"：");var l=zen("span.op-btn.add-zlist>i.iconfont.icon-add");$(r).append(l);var o=$(r).find(".z-list"),d=zen("div.zlist-item.list-tmp>span.op-btn.del-zlist+span.op-btn.up-zlist");$(d).find(".del-zlist").append(zen("i.iconfont.icon-del")),$(d).find(".up-zlist").append(zen("i.iconfont.icon-up")),$(r).append(d);var s=$($("<input type='text'>"));$(d).append(s);for(var c in a){var p=zen("div.zlist-item>span.op-btn.del-zlist+span.op-btn.up-zlist"),f=a[c],s=$($("<input type='text'   value='"+f+"'>"));$(p).append(s),$(p).find(".del-zlist").append(zen("i.iconfont.icon-del")),$(p).find(".up-zlist").append(zen("i.iconfont.icon-up")),o.append(p)}return null!=i&&"number"==i&&r.attr("dtype","number"),r}},_getDynlist:function(t,e){if(null!=t&&null!=e){var n=t.name,a=t.list,i=t.value,r=t.imgup+""=="true";if(null!=a&&a.length>0){var l=zen("div.item>label+div.dyn-list");$(l).attr("data-ftype","dynlist"),$(l).attr("data-fkey",e),$(l).find("label").html(n+"：");var o=zen("span.op-btn.add-dyn>i.iconfont.icon-add");$(l).append(o);var d=$(l).find(".dyn-list"),s=zen("div.dyn-item.dyn-tmp>span.op-btn.del-dyn+span.op-btn.up-dyn");$(s).find(".del-dyn").append(zen("i.iconfont.icon-del")),$(s).find(".up-dyn").append(zen("i.iconfont.icon-up")),$(l).append(s);for(var c in a){var n=a[c].name,p=a[c].key,f=$("<label>"+n+"：</label>"),u=$($("<input type='text' key='"+p+"'>"));$(s).append(f),$(s).append(u),r&&u.addClass("zy-imgup")}for(var v in i){var m=zen("div.dyn-item>span.op-btn.del-dyn+span.op-btn.up-dyn"),t=i[v];for(var h in t){var f=$("<label>"+h+"：</label>");t[h].value=t[h].value||"";var u=$($("<input type='text' key='"+t[h].key+"'  value='"+t[h].value+"'>"));if($(m).append(f),$(m).append(u),r){u.addClass("zy-imgup"),ImgUp.wrapImgUp(u),ImgUp.bindImgUp($(u).parent().find(".zyadmin-upicon"));var g=t[h].cvalue;null!=g&&u.attr("data-cvalue",JSON.stringify(g))}}$(m).find(".del-dyn").append(zen("i.iconfont.icon-del")),$(m).find(".up-dyn").append(zen("i.iconfont.icon-up")),d.append(m)}return l}}},_getTime:function(t,e){if(null!=t&&null!=e){var n=t.name,a=t.value,i=t.forbid,r=zen("div.item>label");$(r).attr("data-ftype","time"),$(r).attr("data-fkey",e),$(r).find("label").html(n+"：");var l=$("<input type='text'/>");try{if(l.datetimepicker(),a+="",!Ut.Null(a)&&13==a.length){var o=Ut.getTimeTostr(a);$(l).val(o)}}catch(d){}return $(r).append(l),i&&$(r).find("input").attr("disabled","true"),$(r)}},getSinleton:function(){function t(){return null==instance&&(instance=new e),instance}function e(){var t=document.createElement("div");return $(t).addClass("zform-cover"),$(t).append($('<div class="bk"></div>')),$(t).append($('<div class="z-form"><div class="close">×</div><div class="form-scroll"><div class="form"></div></div></div>')),$("body").append(t),t}return t()}},_this=cform;return cform}(),$(function(){zform.init()}),window.Zimgmask={init:function(){this.cstyle(),this.initEvent(),this.cpage()},cstyle:function(){var t={".maskimg":{cursor:"pointer",color:"#ba8bdc"},".zmaskpanel":{position:"fixed",width:"100%",top:"0px",bottom:"0px","z-index":"1000",background:"rgba(0,0,0,0.65)",display:" none",".image-info":{position:"absolute",height:"40px",width:"100%",top:"-40px",color:"whitesmoke","font-size":"12px","text-align":"center"," padding-bottom":"0px",".link":{color:"whitesmoke","&:hover":{color:"#ef4545"}}},".mask-image":{position:"fixed",left:"50%",top:"50%",border:"1px solid #000000",".imagescroll":{position:"relative",".img":{"max-width":"100%"}}},".mask-image-close ":{position:"absolute","z-index":"10",height:"30px",width:"30px"," line-height":"150px",overflow:"hidden",background:"#ff6464","border-radius":"50%",right:"-15px",top:"-15px",".zimgclose":{display:"block",height:"30px",width:"30px",overflow:"hidden",cursor:"pointer","text-align":"center","line-height":"26px",opacity:"1",color:"#fff","font-size":"30px"}}}};CssTool.makstyle(t)},cpage:function(){var t=zen("div.zmaskpanel>div.mask-image>div.image-info+div.mask-image-close"),e=$(t).find(".image-info");e.zen("p+a.link"),$(e).find("a").attr("href","").attr("target","_blank");var n=$(t).find(".mask-image");n.zen("div.imagescroll>img"),$(n).find("img").attr("src","");var a=$(t).find(".mask-image-close");a.zen(".zimgclose"),$(a).find(".zimgclose").attr("onclick","jQuery('.zmaskpanel').fadeOut()").html("×"),$("body").append(t)},initEvent:function(){$(".maskimg").on("click",function(){var t=$(this).attr("_link")||$(this).html();Zimgmask.changeImage(t)})},changeImage:function(t){$(".mask-image img").remove();var e=$(window).width()-200,n=$(window).height()-100,a=new Image;a.src=t,a.onload=function(){$(a).addClass("img");var i=a.height.toString()+"*"+a.width;$(".image-info p ").html("图片尺寸："+i).css({margin:"0px"}),$(".image-info a ").attr("href",t).html("图片地址："+t),a.width<=e?($(".mask-image ").css("width",a.width).css("height",a.height).css("margin-left",-a.width/2).css("margin-top",-a.height/2),$(".imagescroll ").css("width",a.width),$(".mask-image img").css("width",a.width).css("height",a.height),a.height>=n&&($(".mask-image ").css("height",n).css("margin-top",-n/2),$(".imagescroll ").css("height",n),$(".imagescroll").css("overflow-y","auto"),$(".imagescroll").css("overflow-x","hidden"))):($(".mask-image ").css("width",e).css("height",a.height).css("margin-left",-e/2).css("margin-top",-a.height/2),$(".imagescroll ").css("width",e),$(".mask-image img").css("width",e).css("height",a.height),a.height>=n&&($(".mask-image ").css("height",n).css("margin-top",-n/2),$(".imagescroll ").css("height",n),$(".imagescroll").css("overflow-y","auto"),$(".imagescroll").css("overflow-x","hidden"))),$(".mask-image .imagescroll").append(a)},a.src=t,$(".zmaskpanel").fadeIn()}},$(function(){Zimgmask.init()}),window.Admins=function(t){var e={navData:{},init:function(){this.load(),this.layout(),this.initEvent()},layout:function(){this.timePicker(),setTimeout(function(){$("#table,#example").length&&$("#table,#example").dataTable({iDisplayLength:100,sScrollX:"100%",sScrollXInner:"100%",aLengthMenu:[100,200,300]}),$("#table10").length&&$("#table10").dataTable({iDisplayLength:10,aLengthMenu:[[10,20,50,100],[10,20,50,100]],sScrollX:"100%",sScrollXInner:"100%"})},500)},timePicker:function(){$(".time").each(function(){var t=$(this).attr("time");if(Ut){var e=Ut.getTimeTostr(t);$(this).html(e)}});try{var t=$("#start-time").attr("start")||Ut.getParam("start"),e=$("#end-time").attr("end")||Ut.getParam("end");if(null!=t){10==t.length&&(t=1e3*Number(t));var t=new Date(Number(t)),n=Ut.getTimeTostr(t);$("#start-time").val(n)}if(null!=e){10==e.length&&(e=1e3*Number(e));var e=new Date(Number(e)),a=Ut.getTimeTostr(e);$("#end-time").val(a)}$(".timepicker").datetimepicker()}catch(i){}},initEvent:function(){$("table").on("click",".trup",function(){var t=$(this).parent().parent(),e=$(t).prev();e.before(t)}),$("table").on("click",".trdown",function(){var t=$(this).parent().parent(),e=$(t).next();e.after(t)}),$("table").on("click",".trdel",function(){var t=$(this).parent().parent();t.remove()}),$(".nav-tabs").on("click","li a",function(){$(this).parent().parent().find(".active").removeClass("active"),$(this).parent().addClass("active");var t=$(this).attr("data-id");$(".nav-content").removeClass("active"),$("#"+t).addClass("active")})},load:function(){if(0==$(".topbar").length)if("undefined"!=typeof AdminPage&&null!=AdminPage)e.cpage(AdminPage),t.Search.cacheData(AdminPage),e.cRightPage();else{var n=window.CONF_URL;Ut.Null(n)&&(n="/zyadmin/link/adminlink"),$.ajax({url:n,type:"get",data:{},dataType:"json",success:function(n){t.navData=n,t.Search.cacheData(n),e.cpage(n),Admins.cRightPage()}})}},cpage:function(t){if(t){var n="",a="",i="";if("undefined"!=typeof AdminConf)n=AdminConf.top,a=AdminConf.tag,i=AdminConf.link;else{var r=e.getCurrentPage(t);n=r.ctop,a=r.ctag,i=r.clink}var l=zen("div.topbar>div.topbar-left.left-home>a>i.fa.fa-home.fa-3x"),o=zen("div.topbar-left");l.append(o),window.HOME_LINK&&l.find("a").attr("href",window.HOME_LINK),$("body").prepend(l),$("#content").wrap(zen("div.main-content>div.content-inner.left-content>div.content-body"));var d=$(".main-content");d.zen("div.left-slide-bar>ul");var s=d.find(".left-slide-bar"),c=$(".content-inner");c.zen("div.inner-slide-bar>div.list");var p=c.find(".inner-slide-bar"),f=null;for(var u in t){var v=t[u],m=v.name,h=v.url,g=$("<div><a href='"+h+"'><span></span></a></div>");g.addClass("topbar-nav-btn"),g.find("a").attr("src",h),g.find("span").html(m),$(o).append(g),m==n&&(f=v,g.addClass("active"));for(var y=zen("div.dropdown-menu"),b=v.tag||[],u=0;u<b.length;u++){for(var k=zen("div.topbar-nav-col>div.col-title+ul"),w=b[u].links||[],z=0;z<w.length;z++){var x=w[z].url,m=w[z].name,S=$("<li ><a href='"+x+"'>"+m+"</a></li>");$(k).find("ul").append(S)}$(k).find(".col-title").html(b[u].name),y.append(k)}g.append(y)}var C=null;if(null!=f&&null!=f.tag)for(var U=0;U<f.tag.length;U++){var A=f.tag[U],_=$("<li><a href='"+A.url+"'>"+A.name+"</a></li>");s.find("ul").append(_),A.name==a&&(_.addClass("active"),C=A)}if(null!=C&&null!=C.links&&C.links.length>0){for(var P=$("<ul></ul>"),T=C.title||m,u=0;u<C.links.length;u++){var I=C.links[u],S=$("<li><a href='"+I.url+"'><div class='link'>"+I.name+"</div></a></li>");P.append(S),I.name==i&&S.find("a").addClass("current")}p.find(".list").append(P),p.append("<div class='title'>"+T+"</div>")}}},getCurrentPage:function(t){var e=window.location.pathname,n=window.location.href,a=window.location.host,i="",r="",l="",o={};for(var d in t){var s=t[d];if(null!=s.tag)for(var c=0;c<s.tag.length;c++){var p=s.tag[c];if(null!=p.links)for(var f=0;f<p.links.length;f++){var u=p.links[f];if(u.url==e||"http://"+a+u.url==n)i=s.name,r=p.name,l=u.name,o.ctop=i,o.ctag=r,o.clink=l;else if(null!=u.item)for(var v in u.item)if(u.item[v]==e||"http://"+a+u.item[v]==n){i=s.name,r=p.name,l=u.name,o.ctop=i,o.ctag=r,o.clink=l;break}}}}return o},cRightPage:function(){if(window.AdminRightPage){var e=zen("div.topbar-right");for(var n in AdminRightPage){var a=zen("a.link"),i=AdminRightPage[n].name,r=AdminRightPage[n].url,l=AdminRightPage[n].cla;$(a).html(i),null!=r&&$(a).attr("href",r),$(a).addClass(l),$(e).append(a)}$(e).append(o),$(".topbar").append($(e))}var o=zen("div.search-panel>input.search-ipt+div.search-result>ul");$(".topbar").append($(o)),t.Search.init()}},n={init:function(){e.init()},cRightPage:function(){e.cRightPage()}};return n}(window.ZA=window.ZA||{}),function(t){var e=!1,n={map:{},init:function(){this.initEvent()},initEvent:function(){$(".search-result").on({mouseover:function(){e=!0},mouseleave:function(){e=!1}}),$(".search-ipt").on("focus",function(){var e=$(this).val()||"";setTimeout(function(){t.Search.showSearch(),t.Search.renderDom(e)},200)}),$(".search-ipt").on("blur",function(){e||t.Search.hideSearch()}),$(".search-ipt").keyup(function(){var e=$(this).val();t.Search.renderDom(e)})},cacheData:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n){var a=n.name,i=n.link;if(this.map[a]=i,null!=n.tag&&n.tag.length>0)for(var r=0;r<n.tag.length;r++){var l=n.tag[r],a=l.name,i=l.url;if(this.map[a]=i,null!=l.links)for(var o=0;o<l.links.length;o++){var d=l.links[o],a=d.name,i=d.url;this.map[a]=i}}}}console.log(JSON.stringify(this.map))},getSearch:function(t){if(null==t||0==t.length)return[];var e=new RegExp(t),n=[];for(var a in this.map)if(e.test(a)&&!Ut.Null(this.map[a])){var i={};i.name=a,i.link=this.map[a],n.push(i)}return console.log(n),n},renderDom:function(e){var n=t.Search.getSearch(e),a="";if(null!=n&&n.length>0)for(var i=0;i<n.length;i++){var r=n[i],l=r.name,r=r.link;a+="<li><a href='"+r+"' target='_blank'>"+l+"</a></li>"}$(".search-result ul").empty().append($(a))},hideSearch:function(){$(".search-result").hide()},showSearch:function(){$(".search-result").fadeIn()}};t.Search=n}(window.ZA=window.ZA||{}),$(document).ready(function(){Admins.init(),window.zadmin&&zadmin.init()}),window.Admins=function(t){var e={navData:{},init:function(){this.load(),this.layout(),this.initEvent()},layout:function(){this.timePicker(),setTimeout(function(){$("#table,#example").length&&$("#table,#example").dataTable({iDisplayLength:100,sScrollX:"100%",sScrollXInner:"100%",aLengthMenu:[100,200,300]}),$("#table10").length&&$("#table10").dataTable({iDisplayLength:10,aLengthMenu:[[10,20,50,100],[10,20,50,100]],sScrollX:"100%",sScrollXInner:"100%"})},500)},timePicker:function(){$(".time").each(function(){var t=$(this).attr("time");if(Ut){var e=Ut.getTimeTostr(t);$(this).html(e)}});try{var t=$("#start-time").attr("start")||Ut.getParam("start"),e=$("#end-time").attr("end")||Ut.getParam("end");if(null!=t){10==t.length&&(t=1e3*Number(t));var t=new Date(Number(t)),n=Ut.getTimeTostr(t);$("#start-time").val(n)}if(null!=e){10==e.length&&(e=1e3*Number(e));var e=new Date(Number(e)),a=Ut.getTimeTostr(e);$("#end-time").val(a)}$(".timepicker").datetimepicker()}catch(i){}},initEvent:function(){$("table").on("click",".trup",function(){var t=$(this).parent().parent(),e=$(t).prev();e.before(t)}),$("table").on("click",".trdown",function(){var t=$(this).parent().parent(),e=$(t).next();e.after(t)}),$("table").on("click",".trdel",function(){var t=$(this).parent().parent();t.remove()}),$(".nav-tabs").on("click","li a",function(){$(this).parent().parent().find(".active").removeClass("active"),$(this).parent().addClass("active");var t=$(this).attr("data-id");$(".nav-content").removeClass("active"),$("#"+t).addClass("active")})},load:function(){if(0==$(".topbar").length)if("undefined"!=typeof AdminPage&&null!=AdminPage)e.cpage(AdminPage),t.Search.cacheData(AdminPage),e.cRightPage();else{var n=window.CONF_URL;Ut.Null(n)&&(n="/zyadmin/link/adminlink"),$.ajax({url:n,type:"get",data:{},dataType:"json",success:function(n){t.navData=n,t.Search.cacheData(n),e.cpage(n),Admins.cRightPage()}})}},cpage:function(t){if(t){var n="",a="",i="";if("undefined"!=typeof AdminConf)n=AdminConf.top,a=AdminConf.tag,i=AdminConf.link;else{var r=e.getCurrentPage(t);n=r.ctop,a=r.ctag,i=r.clink}var l=zen("div.topbar>div.topbar-left.left-home>a>i.fa.fa-home.fa-3x"),o=zen("div.topbar-left");l.append(o),window.HOME_LINK&&l.find("a").attr("href",window.HOME_LINK),$("body").prepend(l),$("#content").wrap(zen("div.main-content>div.content-inner.left-content>div.content-body"));var d=$(".main-content");d.zen("div.left-slide-bar>ul");var s=d.find(".left-slide-bar"),c=$(".content-inner");c.zen("div.inner-slide-bar>div.list");var p=c.find(".inner-slide-bar"),f=null;for(var u in t){var v=t[u],m=v.name,h=v.url,g=$("<div><a href='"+h+"'><span></span></a></div>");g.addClass("topbar-nav-btn"),g.find("a").attr("src",h),g.find("span").html(m),$(o).append(g),m==n&&(f=v,g.addClass("active"));for(var y=zen("div.dropdown-menu"),b=v.tag||[],u=0;u<b.length;u++){for(var k=zen("div.topbar-nav-col>div.col-title+ul"),w=b[u].links||[],z=0;z<w.length;z++){var x=w[z].url,m=w[z].name,S=$("<li ><a href='"+x+"'>"+m+"</a></li>");$(k).find("ul").append(S)}$(k).find(".col-title").html(b[u].name),y.append(k)}g.append(y)}var C=null;if(null!=f&&null!=f.tag)for(var U=0;U<f.tag.length;U++){var A=f.tag[U],_=$("<li><a href='"+A.url+"'>"+A.name+"</a></li>");s.find("ul").append(_),A.name==a&&(_.addClass("active"),C=A)}if(null!=C&&null!=C.links&&C.links.length>0){for(var P=$("<ul></ul>"),T=C.title||m,u=0;u<C.links.length;u++){var I=C.links[u],S=$("<li><a href='"+I.url+"'><div class='link'>"+I.name+"</div></a></li>");P.append(S),I.name==i&&S.find("a").addClass("current")}p.find(".list").append(P),p.append("<div class='title'>"+T+"</div>")}}},getCurrentPage:function(t){var e=window.location.pathname,n=window.location.href,a=window.location.host,i="",r="",l="",o={};
for(var d in t){var s=t[d];if(null!=s.tag)for(var c=0;c<s.tag.length;c++){var p=s.tag[c];if(null!=p.links)for(var f=0;f<p.links.length;f++){var u=p.links[f];if(u.url==e||"http://"+a+u.url==n)i=s.name,r=p.name,l=u.name,o.ctop=i,o.ctag=r,o.clink=l;else if(null!=u.item)for(var v in u.item)if(u.item[v]==e||"http://"+a+u.item[v]==n){i=s.name,r=p.name,l=u.name,o.ctop=i,o.ctag=r,o.clink=l;break}}}}return o},cRightPage:function(){if(window.AdminRightPage){var e=zen("div.topbar-right");for(var n in AdminRightPage){var a=zen("a.link"),i=AdminRightPage[n].name,r=AdminRightPage[n].url,l=AdminRightPage[n].cla;$(a).html(i),null!=r&&$(a).attr("href",r),$(a).addClass(l),$(e).append(a)}$(e).append(o),$(".topbar").append($(e))}var o=zen("div.search-panel>input.search-ipt+div.search-result>ul");$(".topbar").append($(o)),t.Search.init()}},n={init:function(){e.init()},cRightPage:function(){e.cRightPage()}};return n}(window.ZA=window.ZA||{}),function(t){var e=!1,n={map:{},init:function(){this.initEvent()},initEvent:function(){$(".search-result").on({mouseover:function(){e=!0},mouseleave:function(){e=!1}}),$(".search-ipt").on("focus",function(){var e=$(this).val()||"";setTimeout(function(){t.Search.showSearch(),t.Search.renderDom(e)},200)}),$(".search-ipt").on("blur",function(){e||t.Search.hideSearch()}),$(".search-ipt").keyup(function(){var e=$(this).val();t.Search.renderDom(e)})},cacheData:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n){var a=n.name,i=n.link;if(this.map[a]=i,null!=n.tag&&n.tag.length>0)for(var r=0;r<n.tag.length;r++){var l=n.tag[r],a=l.name,i=l.url;if(this.map[a]=i,null!=l.links)for(var o=0;o<l.links.length;o++){var d=l.links[o],a=d.name,i=d.url;this.map[a]=i}}}}console.log(JSON.stringify(this.map))},getSearch:function(t){if(null==t||0==t.length)return[];var e=new RegExp(t),n=[];for(var a in this.map)if(e.test(a)&&!Ut.Null(this.map[a])){var i={};i.name=a,i.link=this.map[a],n.push(i)}return console.log(n),n},renderDom:function(e){var n=t.Search.getSearch(e),a="";if(null!=n&&n.length>0)for(var i=0;i<n.length;i++){var r=n[i],l=r.name,r=r.link;a+="<li><a href='"+r+"' target='_blank'>"+l+"</a></li>"}$(".search-result ul").empty().append($(a))},hideSearch:function(){$(".search-result").hide()},showSearch:function(){$(".search-result").fadeIn()}};t.Search=n}(window.ZA=window.ZA||{}),$(document).ready(function(){Admins.init(),window.zadmin&&zadmin.init()});